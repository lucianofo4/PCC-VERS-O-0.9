{% extends 'hoursCalc/base.html' %}
{% load crispy_forms_tags %}

{% block content %}

<h1 class="display-2">
  <center>Rotas Do Sistema</center>
</h1>

<style>
  #map {
    width: 600px;
    height: 150%;
    border: 2px solid black;
    padding: 150px;
    margin-left: auto;
    margin-right: auto;
  }

#deu {
    width: 20px;
    height: 25%;
    border: 2px solid black;
    padding: 15px;
    margin-left: auto;
    margin-right: auto;
  }


  /* Optional: Makes the sample page fill the window. */
  html,
  body {
    height: 100%;
    margin: 0;
    padding: 0;
  }
</style>

<script type="text/javascript">
  function initMap() {
    const directionsService = new google.maps.DirectionsService();
    const directionsRenderer = new google.maps.DirectionsRenderer({
      // draggable: true
    });
    const map = new google.maps.Map(document.getElementById("map"), {
      zoom: 15,
      center: { lat: -14.3017578, lng: -42.694918 },
    });


    directionsRenderer.setMap(map);

    directionsRenderer.addListener('directions_changed', () => {
      console.log(directionsRenderer);
    });

    directionsService.route({
      origin: 'Loja do Eletricista - Rua Otávio Mangabeira - Morada Nova, Guanambi - BA, Brasil',
      destination: 'Caixa Postal Nº 09 Distrito de - Saída p/ ceraíma - n, – Zona Rural, Guanambi - BA, 46430-000, Brasil',
      waypoints: [
        {
          location: 'Parque da Cidade, Av. Pref. José Neves Teixeira - Guanambi, BA, 46430-000',
          stopover: true
        },
        {
          location: 'Avenida Pedro Felipe Duarte, 4911 - São Sebastião, Guanambi - BA, 46430-000, Brasil',
          stopover: true
        },
        {
          location: 'Estádio 2 de Julho, 226, R. Levindo G Leal, 68, Guanambi - BA, 46430-000',
          stopover: true
        }


      ],
      travelMode: google.maps.TravelMode.DRIVING
    }).then(response => {
      console.log({ response });
      directionsRenderer.setDirections(response);


    }).catch(err => {
      console.log({ err });
    });




  }


</script>
</head>

<body>
  <div id="map"></div>

  <div id="deu">
    <a class="nav-item nav-link" href="{% url 'deu' %}"> Deu</a>
  </div>

<div id="jaime">
  <a class="nav-item nav-link" href="{% url 'jaime' %}"> Jaime</a>
</div>

<div id="jaime">
  <a class="nav-item nav-link" href="{% url 'pequenodiu' %}"> PequenoDiu</a>
</div>



  <script
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCBJq9v0tbMylSJxCLkkSRAchcKcTn-yI4&libraries=places&callback=initMap"
    async></script>






</body>

{% endblock content %}